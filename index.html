<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€í™”í˜• ì œì•½ ì¸í¬ê·¸ë˜í”½: ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœ íƒêµ¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Energetic & Playful -->
    <!-- Application Structure Plan: This is a merged application. It combines the interactive structure of the 'Virtual Lab' with the visual design and data presentation style of the 'Infographic'. The structure maintains the lab's interactive sections (Intro, Experiment, Deep Dive, Conclusion) but restyles them with the infographic's vibrant colors and clearer chart layout (horizontal bar chart). This fusion aims to create a single, highly engaging and informative experience that is both interactive and visually compelling. -->
    <!-- Visualization & Content Choices: The core visualization is now a horizontal bar chart from the infographic, implemented in Chart.js, as it's better for comparing categories with long labels. This chart is still populated interactively via user clicks, preserving the lab's core interaction. The lab's beaker simulation is kept for engagement. The infographic's clear, icon-based layouts are used for static informational sections. All choices prioritize clarity, interactivity, and visual appeal, without using SVG or Mermaid JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
        }
        html {
            scroll-behavior: smooth;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            height: 350px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .beaker-simulation {
            width: 150px;
            height: 200px;
            border: 5px solid #58508d;
            border-top: none;
            border-radius: 0 0 20px 20px;
            position: relative;
            background: linear-gradient(to top, #61a5ff 60%, transparent 60%);
            margin: 20px auto;
        }
        .beaker-simulation::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -15px;
            right: -15px;
            height: 10px;
            background-color: #58508d;
            border-radius: 5px;
        }
        .drug-particle {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            transition: all 1.5s ease-in-out;
        }
        .tablet { width: 60px; height: 15px; background-color: #f1f5f9; border-radius: 8px; border: 1px solid #94a3b8; }
        .capsule { width: 70px; height: 25px; background-color: #ff6361; border-radius: 15px; position: relative; overflow: hidden; }
        .capsule::after { content: ''; position: absolute; top: 0; left: 50%; width: 50%; height: 100%; background-color: #ff8a88; }
        .powder { width: 0px; height: 0px; border-radius: 50%; box-shadow: 0 0 30px 20px #f8fafc; }
        .er-tablet { width: 65px; height: 18px; background: linear-gradient(45deg, #e2e8f0, #f1f5f9); border-radius: 10px; border: 1px solid #64748b; }

        .disintegrate { animation: disintegrate 2s forwards; }
        @keyframes disintegrate {
            0% { transform: translateX(-50%) scale(1); opacity: 1; }
            100% { transform: translateX(-50%) scale(0.5) translateY(-50px); opacity: 0; box-shadow: 0 0 50px 30px #f8fafc; }
        }
        .burst { animation: burst 1.5s forwards; }
        @keyframes burst {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.2); }
            100% { transform: translateX(-50%) scale(0); opacity: 0; }
        }
        .dissolve { animation: dissolve 1s forwards; }
        @keyframes dissolve {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
        .slow-disintegrate { animation: slow-disintegrate 3s forwards; }
        @keyframes slow-disintegrate {
            0% { transform: translateX(-50%) scale(1); opacity: 1; }
            50% { transform: translateX(-50%) scale(0.95); opacity: 0.8; }
            100% { transform: translateX(-50%) scale(0.8) translateY(-20px); opacity: 0.2; }
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white/90 backdrop-blur-md sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-black text-[#003f5c]">ì œì•½ íƒêµ¬ ì¸í¬ê·¸ë˜í”½</h1>
            <div class="hidden md:flex space-x-6 text-lg font-bold">
                <a href="#intro" class="hover:text-[#ff6361] transition-colors">ê¸°ì´ˆ ì›ë¦¬</a>
                <a href="#lab" class="hover:text-[#ff6361] transition-colors">ì¸í„°ë™í‹°ë¸Œ ì‹¤í—˜</a>
                <a href="#deep-dive" class="hover:text-[#ff6361] transition-colors">ì‹¬ì¸µ íƒêµ¬</a>
                <a href="#conclusion" class="hover:text-[#ff6361] transition-colors">ê²°ë¡ </a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="#intro" class="block text-lg font-bold hover:text-[#ff6361] transition-colors">ê¸°ì´ˆ ì›ë¦¬</a>
            <a href="#lab" class="block text-lg font-bold hover:text-[#ff6361] transition-colors">ì¸í„°ë™í‹°ë¸Œ ì‹¤í—˜</a>
            <a href="#deep-dive" class="block text-lg font-bold hover:text-[#ff6361] transition-colors">ì‹¬ì¸µ íƒêµ¬</a>
            <a href="#conclusion" class="block text-lg font-bold hover:text-[#ff6361] transition-colors">ê²°ë¡ </a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-12">

        <section id="intro" class="text-center my-8 md:my-12">
            <h2 class="text-4xl md:text-5xl font-black text-[#003f5c]">ì•½í’ˆ ì œí˜•ì˜ ë¹„ë°€</h2>
            <p class="text-xl md:text-2xl mt-4 text-[#58508d]">ê°™ì€ ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœ, ì™œ ë‹¤ë¥¸ ëª¨ì–‘ì¼ê¹Œ?</p>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mt-8 mb-12">
                ì•½ì˜ íš¨ê³¼ëŠ” 'ì œí˜•'ì— ë”°ë¼ ìš°ë¦¬ ëª¸ì—ì„œ ì‘ìš©í•˜ëŠ” ì†ë„ì™€ ë°©ì‹ì´ ê²°ì •ë©ë‹ˆë‹¤. ì•½íš¨ê°€ ë‚˜íƒ€ë‚˜ê¸°ê¹Œì§€ì˜ í•µì‹¬ ê³¼ì •ì„ ì•Œì•„ë´…ì‹œë‹¤.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <div class="text-5xl mb-3">ğŸ’Š</div>
                    <h3 class="text-xl font-bold text-[#bc5090] mb-2">ë¶•í•´</h3>
                    <p class="text-gray-600">ê³ ì²´ ì•½ì´ ì˜ê²Œ ë¶€ì„œì§€ëŠ” ì²« ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <div class="text-5xl mb-3">ğŸ’§</div>
                    <h3 class="text-xl font-bold text-[#bc5090] mb-2">ìš©ì¶œ</h3>
                    <p class="text-gray-600">ì•½ ì„±ë¶„ì´ ì²´ì•¡ì— ë…¹ì•„ ë‚˜ì˜µë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <div class="text-5xl mb-3">ğŸš€</div>
                    <h3 class="text-xl font-bold text-[#bc5090] mb-2">í¡ìˆ˜</h3>
                    <p class="text-gray-600">ì•½ ì„±ë¶„ì´ í˜ˆì•¡ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <div class="text-5xl mb-3">ğŸ¯</div>
                    <h3 class="text-xl font-bold text-[#bc5090] mb-2">ì‘ìš©</h3>
                    <p class="text-gray-600">ë“œë””ì–´ ì•½íš¨ê°€ ë°œí˜„ë©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </section>

        <section id="lab" class="my-16 md:my-24 p-6 md:p-10 bg-white rounded-2xl shadow-xl border border-gray-200">
            <div class="text-center mb-10">
                <h2 class="text-3xl md:text-4xl font-black text-[#003f5c]">ì¸í„°ë™í‹°ë¸Œ ë¶•í•´ ì‹¤í—˜</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 mt-4">
                    ë‹¤ì–‘í•œ ì œí˜•ì˜ ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœì„ ì¸ê³µ ìœ„ì•¡ì— ë„£ê³  ë¶•í•´ ì‹œê°„ì„ ë¹„êµí•´ë´…ì‹œë‹¤. ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹¤í—˜í•˜ê³ , ì°¨íŠ¸ì˜ ë³€í™”ë¥¼ ê´€ì°°í•˜ì„¸ìš”.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                <div class="lg:col-span-2 text-center">
                    <h3 class="text-2xl font-bold mb-6 text-[#58508d]">ì‹¤í—˜í•  ì œí˜• ì„ íƒ</h3>
                    <div id="drug-selector" class="grid grid-cols-2 gap-4 max-w-md mx-auto">
                    </div>
                    <div class="mt-8">
                        <div class="beaker-simulation">
                            <div id="drug-particle-container"></div>
                        </div>
                        <p id="simulation-text" class="text-gray-500 h-6 mt-2 font-semibold"></p>
                    </div>
                </div>

                <div class="lg:col-span-3">
                    <div class="chart-container">
                        <canvas id="disintegrationChart"></canvas>
                    </div>
                    <div id="analysis-box" class="mt-6 bg-[#f0f2f5] p-6 rounded-lg min-h-[120px]">
                        <h4 class="font-bold text-xl mb-2 text-[#003f5c]">ë¶„ì„ ê²°ê³¼</h4>
                        <p id="analysis-text" class="text-gray-700">ì‹¤í—˜í•  ì œí˜•ì„ ì„ íƒí•˜ë©´ ì´ê³³ì— ë¶„ì„ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="deep-dive" class="my-16 md:my-24">
            <div class="text-center mb-10">
                <h2 class="text-3xl md:text-4xl font-black text-[#003f5c]">ì†ë„ì˜ ê³¼í•™: ì™œ ì°¨ì´ê°€ ë‚ ê¹Œ?</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 mt-4">
                    ì œí˜•ë³„ ë¶•í•´ ì†ë„ ì°¨ì´ì— ìˆ¨ê²¨ì§„ ê³¼í•™ì  ì›ë¦¬ë¥¼ ë” ê¹Šì´ íƒêµ¬í•´ë´…ì‹œë‹¤.
                </p>
            </div>
            <div id="accordion-container" class="space-y-4 max-w-4xl mx-auto">
            </div>
        </section>

        <section id="conclusion" class="text-center bg-white p-8 md:p-12 rounded-2xl shadow-xl border border-gray-200">
            <h2 class="text-3xl md:text-4xl font-black text-[#003f5c]">ê²°ë¡  ë° ë‹¤ìŒ íƒêµ¬ ì œì•ˆ</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 my-8">
                ì´ë²ˆ íƒêµ¬ë¥¼ í†µí•´ ì œí˜•ì´ ì•½íš¨ ë°œí˜„ ì†ë„ë¥¼ ê²°ì •í•˜ëŠ” 'ì„¤ê³„ë„'ì„ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì œì•½ ê³¼í•™ì˜ ì„¸ê³„ëŠ” ì—¬ê¸°ì„œ ëë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ ë³¼ê¹Œìš”?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-gray-100 p-6 rounded-xl">
                    <h3 class="font-bold text-xl mb-2 text-[#58508d]">ğŸ”¬ í™˜ê²½ í™•ì¥</h3>
                    <p>ì¸ê³µ ì¥ì•¡(pH 6.8)ì„ ë§Œë“¤ì–´ ìœ„ì™€ ì¥ í™˜ê²½ì—ì„œì˜ ë¶•í•´ ì°¨ì´ë¥¼ ë¹„êµí•´ë´…ì‹œë‹¤.</p>
                </div>
                <div class="bg-gray-100 p-6 rounded-xl">
                    <h3 class="font-bold text-xl mb-2 text-[#58508d]">ğŸ’ª ë³€ì¸ íƒêµ¬</h3>
                    <p>ì •ì œì˜ ë‹¨ë‹¨í•¨(ê²½ë„)ì´ ë¶•í•´ ì†ë„ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ íƒêµ¬í•´ë´…ì‹œë‹¤.</p>
                </div>
                <div class="bg-gray-100 p-6 rounded-xl">
                    <h3 class="font-bold text-xl mb-2 text-[#58508d]">ğŸš€ ì²¨ë‹¨ ê¸°ìˆ </h3>
                    <p>ì…ì—ì„œ ë…¹ëŠ” í•„ë¦„, ë‚˜ë…¸ì…ì ë“± ì°¨ì„¸ëŒ€ ì•½ë¬¼ ì „ë‹¬ ì‹œìŠ¤í…œ(DDS)ì„ ì¡°ì‚¬í•´ë´…ì‹œë‹¤.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 bg-gray-200 mt-12">
        <p class="text-gray-600">ë³¸ í˜ì´ì§€ëŠ” 'ì•½í’ˆ ì œí˜•ì— ë”°ë¥¸ ë¶•í•´ë„ íƒêµ¬' ë³´ê³ ì„œ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì œì‘ëœ êµìœ¡ìš© ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const drugData = [
                { id: 'powder', name: 'í˜„íƒìš© ì‚°ì œ', time: 0.5, particleClass: 'powder', animationClass: 'dissolve', description: 'ê°€ë£¨ì•½ì€ ì´ë¯¸ ë¶•í•´ëœ ìƒíƒœì´ë¯€ë¡œ ë¬¼ì— ë„£ìë§ˆì ê±°ì˜ ì¦‰ì‹œ(ì•½ 30ì´ˆ ë‚´) ë¶„ì‚°ë©ë‹ˆë‹¤. ë¶•í•´ ê³¼ì •ì´ ì—†ì–´ ìš©ì¶œ ë° í¡ìˆ˜ê°€ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.' },
                { id: 'chewable', name: 'ì¸„ì–´ë¸”ì •', time: 2, particleClass: 'tablet', animationClass: 'disintegrate', description: 'ì¸„ì–´ë¸”ì •ì€ ì•½ 2ë¶„ ë‚´ë¡œ ë¹ ë¥´ê²Œ ë¶•í•´ë©ë‹ˆë‹¤. ì…ì•ˆì—ì„œ ì”¹ì–´ë¨¹ëŠ” ê²ƒì„ ê°€ì •í•˜ì—¬, ì‰½ê²Œ ë¶€ì„œì§€ë„ë¡ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.' },
                { id: 'standard', name: 'í‘œì¤€ ì •ì œ', time: 13, particleClass: 'tablet', animationClass: 'disintegrate', description: 'í‘œì¤€ ì •ì œëŠ” ì•½ 13ë¶„ ë‚´ì— ë¶•í•´ë©ë‹ˆë‹¤. ì•½íš¨ ì„±ë¶„ê³¼ ë¶€í˜•ì œê°€ ì••ì¶•ëœ ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœë¡œ, ìœ„ì•¡ì— ë‹¿ìœ¼ë©´ ë¶€í’€ì–´ ì˜¤ë¥´ë©° ë¶€ì„œì§‘ë‹ˆë‹¤.' },
                { id: 'softgel', name: 'ì—°ì§ˆ ìº¡ìŠ', time: 15, particleClass: 'capsule', animationClass: 'burst', description: 'ì—°ì§ˆ ìº¡ìŠì€ ì•½ 15ë¶„ í›„ ì ¤ë¼í‹´ ê»ì§ˆì´ í„°ì§€ë©´ì„œ ë¶•í•´ë©ë‹ˆë‹¤. ì¼ë‹¨ í„°ì§€ë©´ ì´ë¯¸ ë…¹ì•„ìˆëŠ” ì•¡ìƒ ë‚´ìš©ë¬¼ì´ ë¹ ë¥´ê²Œ í¡ìˆ˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                { id: 'er', name: 'ì„œë°©ì„± ì •ì œ', time: 70, particleClass: 'er-tablet', animationClass: 'slow-disintegrate', description: 'ì„œë°©ì„± ì •ì œëŠ” 1ì‹œê°„ ì´ìƒ ì²œì²œíˆ ë¶•í•´ë©ë‹ˆë‹¤. íŠ¹ìˆ˜ êµ¬ì¡°ê°€ ì•½ë¬¼ì´ ì„œì„œíˆ ë°©ì¶œë˜ë„ë¡ ì œì–´í•˜ì—¬ ì•½íš¨ê°€ ì˜¤ë˜ ì§€ì†ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.' }
            ];

            const accordionData = [
                { title: 'ì†ë„ì˜ ê³¼í•™: ì†íš¨ì„± ì œì œ', content: 'ì¼ë¶€ ë¹ ë¥¸ íš¨ê³¼ë¥¼ ë‚´ëŠ” ì•½ì—ëŠ” íƒ„ì‚°ìˆ˜ì†Œë‚˜íŠ¸ë¥¨($NaHCO_3$)ì´ ë“¤ì–´ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ìœ„ì‚°(HCl)ê³¼ ë§Œë‚˜ë©´ ì´ì‚°í™”íƒ„ì†Œ($CO_2$) ê¸°ì²´ë¥¼ ë°œìƒì‹œì¼œ, ì •ì œ ë‚´ë¶€ì—ì„œë¶€í„° í„°ì ¸ ë‚˜ì˜¤ê²Œ ë§Œë“¤ì–´ ë¶•í•´ë¥¼ ê·¹ì ìœ¼ë¡œ ê°€ì†í•©ë‹ˆë‹¤.' },
                { title: 'ì‹œê°„ê³¼ì˜ ì‹¸ì›€: ì†ë°©ì„±(IR) vs ì„œë°©ì„±(ER)', content: 'ì†ë°©ì •(IR)ì€ ë¹¨ë¦¬ ë…¹ì•„ íš¨ê³¼ë¥¼ ë‚´ëŠ” ë° ì§‘ì¤‘í•˜ì§€ë§Œ, ì„œë°©ì •(ER)ì€ ì•½íš¨ë¥¼ ì˜¤ë˜ ì§€ì†ì‹œí‚¤ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤. ER ì œì œëŠ” íŠ¹ìˆ˜ ê³ ë¶„ì ë§¤íŠ¸ë¦­ìŠ¤ë¡œ ì•½ë¬¼ì„ ê°ì‹¸, ìˆ˜ ì‹œê°„ì— ê±¸ì³ ì„œì„œíˆ ë°©ì¶œë˜ë„ë¡ í•©ë‹ˆë‹¤.' },
                { title: 'í˜•íƒœì™€ ê¸°ëŠ¥: ì •ì œ vs ì—°ì§ˆ ìº¡ìŠ', content: 'í”íˆ ì—°ì§ˆ ìº¡ìŠì´ ë” ë¹ ë¥¼ ê²ƒì´ë¼ ìƒê°í•˜ì§€ë§Œ, ì ¤ë¼í‹´ ê»ì§ˆì´ ë…¹ê³  í„°ì§€ëŠ” ë° ì‹œê°„ì´ ê±¸ë ¤ ê³ ì²´ ì •ì œë³´ë‹¤ ë¶•í•´ê°€ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, \'ë¶•í•´\'ì™€ \'í¡ìˆ˜\'ëŠ” ë‹¤ë¥¸ ë‹¨ê³„ì…ë‹ˆë‹¤.' }
            ];

            const drugSelector = document.getElementById('drug-selector');
            drugData.forEach(drug => {
                const button = document.createElement('button');
                button.className = 'w-full bg-white hover:bg-orange-100 text-[#003f5c] font-bold py-3 px-4 border-2 border-[#58508d] rounded-lg shadow-md transition-all duration-200 transform hover:scale-105';
                button.textContent = drug.name;
                button.dataset.drugId = drug.id;
                drugSelector.appendChild(button);
            });

            const accordionContainer = document.getElementById('accordion-container');
            accordionData.forEach((item) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden';
                wrapper.innerHTML = `
                    <button class="accordion-toggle w-full text-left p-5 font-bold text-lg text-[#003f5c] flex justify-between items-center hover:bg-gray-50 transition-colors">
                        <span>${item.title}</span>
                        <svg class="w-6 h-6 transform transition-transform duration-300 text-[#ff6361]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-5 pt-0 text-gray-700">
                            <p>${item.content.replace(/\$(.*?)\$/g, '<code class="bg-gray-200 text-red-600 font-mono p-1 rounded">$1</code>')}</p>
                        </div>
                    </div>
                `;
                accordionContainer.appendChild(wrapper);
            });

            document.querySelectorAll('.accordion-toggle').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('svg');
                    const isOpening = !(content.style.maxHeight && content.style.maxHeight !== '0px');
                    
                    document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = '0px');
                    document.querySelectorAll('.accordion-toggle svg').forEach(i => i.classList.remove('rotate-180'));

                    if (isOpening) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.classList.add('rotate-180');
                    }
                });
            });

            const ctx = document.getElementById('disintegrationChart').getContext('2d');
            const chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'ë¶•í•´ ì‹œê°„ (ë¶„)',
                        data: [],
                        backgroundColor: ['#ffa600', '#ff6361', '#bc5090', '#58508d', '#003f5c'],
                        borderColor: '#ffffff',
                        borderWidth: 2,
                        borderRadius: 5,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: { display: true, text: 'í‰ê·  ë¶•í•´ ì‹œê°„ (ë¶„)', font: { size: 14, weight: 'bold' }, color: '#003f5c' },
                            grid: { color: '#e2e8f0' }
                        },
                        y: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#003f5c',
                            titleFont: { size: 16, weight: 'bold' },
                            bodyFont: { size: 14 },
                            callbacks: {
                                label: (context) => ` ${context.dataset.label}: ${context.raw} ë¶„`
                            }
                        }
                    }
                }
            });

            const analysisText = document.getElementById('analysis-text');
            const particleContainer = document.getElementById('drug-particle-container');
            const simulationText = document.getElementById('simulation-text');

            drugSelector.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const drugId = e.target.dataset.drugId;
                    const drug = drugData.find(d => d.id === drugId);

                    if (drug && !chart.data.labels.includes(drug.name)) {
                        const sortedData = [...chart.data.datasets[0].data, drug.time];
                        const sortedLabels = [...chart.data.labels, drug.name];
                        
                        const paired = sortedLabels.map((label, index) => ({label, data: sortedData[index]}));
                        paired.sort((a, b) => a.data - b.data);

                        chart.data.labels = paired.map(p => p.label);
                        chart.data.datasets[0].data = paired.map(p => p.data);
                        
                        chart.update();
                    }
                    
                    analysisText.textContent = drug.description;
                    
                    particleContainer.innerHTML = `<div class="drug-particle ${drug.particleClass}"></div>`;
                    const particle = particleContainer.firstChild;
                    
                    simulationText.textContent = `${drug.name} ë¶•í•´ ì‹œë®¬ë ˆì´ì…˜...`;
                    setTimeout(() => particle.classList.add(drug.animationClass), 100);
                    setTimeout(() => simulationText.textContent = ``, 3000);
                }
            });

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
            });
        });
    </script>
</body>
</html>
